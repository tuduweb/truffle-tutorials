## 2-1-truffle介绍及环境部署

### 相关知识

Truffle是针对基于以太坊的Solidity语言的一套开发框架。本身基于Javascript。

##### 在学习前，你需要知道以下知识：

1. Truffle基于Javascript，需要知道基本语法、模块、Promise的概念。
2. 框架针对于Solidity语言，故需要知道Solidity。
3. 以太坊的基础。

##### Truffle有什么用？

Truffle到底为我们带来了什么呢，

- 首先对客户端做了深度集成。开发，测试，部署一行命令都可以搞定。不用再记那么多环境地址，繁重的配置更改，及记住诸多的命令。
- 它提供了一套类似`maven`或`gradle`这样的项目构建机制，能自动生成相关目录，默认是基于Web的。当前这个打包机制是自定义的，比较简陋，不与当前流行打包方案兼容。但自已称会弃用，与主流兼容，好在它也支持自定义打包流程。
- 提供了合约抽象接口，可以直接通过`var meta = MetaCoin.deployed();`拿到合约对象后，在`Javascript`中直接操作对应的合约函数。原理是使用了基于`web3.js`封装的`Ether Pudding`工具包。简化开发流程。
- 提供了控制台，使用框架构建后，可以直接在命令行调用输出结果，可极大方便开发调试。
- 提供了监控合约，配置变化的自动发布，部署流程。不用每个修改后都重走整个流程。

本篇文章将介绍怎样使用Truffle进行智能合约的编译、部署和测试。

#### 简介

Truffle是一个世界级的开发环境，测试框架，以太坊的资源管理通道，致力于让以太坊上的开发变得简单，Truffle提供：

- 内置的智能合约编译，链接，部署和二进制文件的管理。
- 针对快速迭代开发的自动化合约测试。
- 可脚本化，可扩展的部署与迁移框架。
- 用于部署到任意数量的公网或私网的网络环境管理。
- 使用EthPM&NPM提供的包管理，使用ERC190标准。
- 与合约直接通信的交互控制台。
- 可配置的构建流程，并支持紧密集成。
- 在Truffle环境里支持执行外部的脚本。

#### 环境部署

在开始Truffle环境部署前，有一些环境要求：

- Windows，Linux，或Mac OS X
- Node.js v8+ LTS 和 npm包管理器
- 注意：Truffle需要以太坊客户端，需要支持标准的JSON RPC API。

我们可以在命令行工具或终端中，使用以下命令安装Truffle:

```shell
npm install -g truffle
```

在命令执行完成后，我们可以通过在命令行工具中输入`truffle version`来验证是否安装成功。如果出现错误，请确认你的系统环境`PATH`中包含了npm modules的目录。

```
bin@bin-iMacPC ~ truffle version
Truffle v5.4.25 (core: 5.4.25)
Solidity v0.5.16 (solc-js)
Node v14.18.2
Web3.js v1.5.3
```



##### Ganache

GANACHE相关介绍及配置部分



